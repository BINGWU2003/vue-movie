import{H as _,I as r,r as d,j as f,o as v,c as g,f as i,d as w,w as I,e as h}from"./index-BtiZJA6V.js";import{E as y}from"./el-button-BkswBdMW.js";import{P as E}from"./PreviewPictureCom-1_33dq-R.js";import{e as U,b as C}from"./user-929Nb1Sz.js";import{s as F}from"./tencentCloud-DYilJfO5.js";import{E as c}from"./http-uaPK1vfr.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-D8AN6Cr_.js";import"./_baseClone-dr7Cctac.js";import"./_initCloneObject-C3mgaNU_.js";import"./isEqual-QJ1JA930.js";const x={class:"edit-image"},P={class:"button"},V={__name:"EditImageView",setup(B){const{userImage:l,_id:s}=_(r()),{setUserImage:n}=r(),e=d(null),m=async()=>{const t=e.value.fileFn().getFile();t.value?await F(t.value).then(async o=>{await U({_id:s.value,userData:{userImage:o}}).then(async a=>{c({type:"success",message:a.data.msg}),await C({_id:s.value}).then(u=>{const{userData:{userImage:p}}=u.data;n(p),e.value.fileFn().setFile(null)})})}):c.error("请选择图片!!")};return f(()=>{e.value.imageUrlFn().setImageUrl(l.value)}),(t,o)=>{const a=y;return v(),g("div",x,[i(E,{ref_key:"previewPictureComRef",ref:e},null,512),w("div",P,[i(a,{type:"primary",onClick:m},{default:I(()=>[h("提交")]),_:1})])])}}},A=k(V,[["__scopeId","data-v-55c6729f"]]);export{A as default};

import{r as c,L as f,o as n,c as i,f as u,w as _,g as v}from"./index-BtiZJA6V.js";import{a as w}from"./tencentCloud-DYilJfO5.js";import{E as g}from"./http-uaPK1vfr.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as h}from"./index-D8AN6Cr_.js";const P={class:"preview-picture"},U=["src"],E={__name:"PreviewPictureCom",setup(k,{expose:m}){const r=c(""),t=c(null),p=async e=>{t.value=e,await d(e).then(a=>{r.value=a}).catch(a=>{g.error(a)})},d=e=>new Promise((a,s)=>{const o=new FileReader;o.readAsDataURL(e.raw),o.onload=()=>{const l=o.result;a(l)},o.onerror=function(){s(new Error("Failed to load file"))}});return m({imageUrlFn:()=>({getImageUrl(){return r},setImageUrl(e){r.value=e}}),fileFn:()=>({getFile(){return t},setFile(e){t.value=e}})}),(e,a)=>{const s=f("Plus"),o=h,l=w;return n(),i("div",P,[u(l,{class:"avatar-uploader","show-file-list":!1,"auto-upload":!1,"on-change":p},{default:_(()=>[r.value?(n(),i("img",{key:0,src:r.value,class:"avatar"},null,8,U)):(n(),v(o,{key:1,class:"avatar-uploader-icon"},{default:_(()=>[u(s)]),_:1}))]),_:1})])}}},b=F(E,[["__scopeId","data-v-d43918e2"]]);export{b as P};
